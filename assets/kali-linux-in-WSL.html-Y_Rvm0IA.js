import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as s,o as t}from"./app-CN9KBdAf.js";const n="/assets/images/wsl/kex.png",l="/assets/images/wsl/TigerVNC-pswd-failed.png",r="/assets/images/wsl/kali-linux%E6%A1%8C%E9%9D%A2.png",o="/assets/images/wsl/VNC%E7%9B%B4%E6%8E%A5%E8%BF%9E%E6%8E%A5.png",p={};function d(h,i){return t(),a("div",null,i[0]||(i[0]=[s('<h1 id="在wsl中使用kali-linux踩坑记录" tabindex="-1"><a class="header-anchor" href="#在wsl中使用kali-linux踩坑记录"><span>在WSL中使用kali-linux踩坑记录</span></a></h1><h2 id="安装kali-linux" tabindex="-1"><a class="header-anchor" href="#安装kali-linux"><span>安装kali-linux</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kali-linux</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="安装黑科技kex" tabindex="-1"><a class="header-anchor" href="#安装黑科技kex"><span>安装黑科技kex</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kali-win-kex</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="运行kex" tabindex="-1"><a class="header-anchor" href="#运行kex"><span>运行kex</span></a></h2><p>按照<a href="https://youtu.be/PaEcQmgEz78?t=613" target="_blank" rel="noopener noreferrer">视频</a>里说的尝试运行<code>kex --esm --ip -sound</code>会提示找不到命令，如果直接运行<code>kex</code>，输完密码，等待大概十秒钟后，提示开启成功：</p><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>但是TigerVNC连接不上：</p><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>google了好久，找到一个遇到相同问题的： https://www.reddit.com/r/bashonubuntuonwindows/comments/icu9ks/why_winkex_does_not_working_please_help_me/?rdt=50615</p><p>但是下面的回答没有帮助。</p><p>再次搜索一番，发现了这个帖子：https://access.redhat.com/solutions/5011721</p><p>我们知道，linux里各种设备都是文件，输密码也会有一个密码文件。而在非sudo下试图登录时没有读取密码文件的权限，因此才有“Opening password file failed”。</p><p>尝试<code>sudo kex</code>之后，发现可以正常进入kali-linux桌面：</p><figure><img src="'+r+'" alt="kali-linux桌面" tabindex="0" loading="lazy"><figcaption>kali-linux桌面</figcaption></figure><p>但是这里和默认用户下的桌面、各种文件夹是不互通的，而且笔者也不喜欢在root下运行wsl，因为此时你可以随意删除主机系统文件。</p><h2 id="最终解决方法" tabindex="-1"><a class="header-anchor" href="#最终解决方法"><span>最终解决方法</span></a></h2><ol><li><p>在主机上安装TigerVNC：<a href="https://sourceforge.net/projects/tigervnc" target="_blank" rel="noopener noreferrer">https://sourceforge.net/projects/tigervnc</a></p></li><li><p>在kali-linux的bash中执行kex，启动win-kex server，然后直接使用TigerVNC连接wsl即可。</p></li></ol><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这里的端口号(5901)填win-kex server启动后开放给你的端口。</p>',21)]))}const c=e(p,[["render",d],["__file","kali-linux-in-WSL.html.vue"]]),u=JSON.parse(`{"path":"/posts/wsl/kali-linux-in-WSL.html","title":"在WSL中使用kali-linux踩坑记录","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-11-30T00:00:00.000Z","category":["WSL"],"tag":["WSL"],"description":"在WSL中使用kali-linux踩坑记录 安装kali-linux 安装黑科技kex 运行kex 按照视频里说的尝试运行kex --esm --ip -sound会提示找不到命令，如果直接运行kex，输完密码，等待大概十秒钟后，提示开启成功： 但是TigerVNC连接不上： google了好久，找到一个遇到相同问题的： https://www.red...","head":[["meta",{"property":"og:url","content":"https://iXanadu13.github.io/posts/wsl/kali-linux-in-WSL.html"}],["meta",{"property":"og:site_name","content":"Xanadu13's Blog"}],["meta",{"property":"og:title","content":"在WSL中使用kali-linux踩坑记录"}],["meta",{"property":"og:description","content":"在WSL中使用kali-linux踩坑记录 安装kali-linux 安装黑科技kex 运行kex 按照视频里说的尝试运行kex --esm --ip -sound会提示找不到命令，如果直接运行kex，输完密码，等待大概十秒钟后，提示开启成功： 但是TigerVNC连接不上： google了好久，找到一个遇到相同问题的： https://www.red..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://iXanadu13.github.io/assets/images/wsl/kex.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-12-13T05:44:38.000Z"}],["meta",{"property":"article:tag","content":"WSL"}],["meta",{"property":"article:published_time","content":"2024-11-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-12-13T05:44:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在WSL中使用kali-linux踩坑记录\\",\\"image\\":[\\"https://iXanadu13.github.io/assets/images/wsl/kex.png\\",\\"https://iXanadu13.github.io/assets/images/wsl/TigerVNC-pswd-failed.png\\",\\"https://iXanadu13.github.io/assets/images/wsl/kali-linux桌面.png\\",\\"https://iXanadu13.github.io/assets/images/wsl/VNC直接连接.png\\"],\\"datePublished\\":\\"2024-11-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-12-13T05:44:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Xanadu13\\",\\"url\\":\\"https://github.com/iXanadu13\\"}]}"]]},"headers":[{"level":2,"title":"安装kali-linux","slug":"安装kali-linux","link":"#安装kali-linux","children":[]},{"level":2,"title":"安装黑科技kex","slug":"安装黑科技kex","link":"#安装黑科技kex","children":[]},{"level":2,"title":"运行kex","slug":"运行kex","link":"#运行kex","children":[]},{"level":2,"title":"最终解决方法","slug":"最终解决方法","link":"#最终解决方法","children":[]}],"git":{"createdTime":1733318297000,"updatedTime":1734068678000,"contributors":[{"name":"Xanadu13","email":"xanadu13@qq.com","commits":1}]},"readingTime":{"minutes":1.21,"words":364},"filePathRelative":"posts/wsl/kali-linux-in-WSL.md","localizedDate":"2024年11月30日","excerpt":"\\n<h2>安装kali-linux</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">wsl</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> kali-linux</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{c as comp,u as data};
